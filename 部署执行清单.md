# é˜¿é‡Œäº‘éƒ¨ç½²æ‰§è¡Œæ¸…å• âœ…

## ğŸ¯ å¿«é€Ÿå¼€å§‹ï¼ˆ5æ­¥å®Œæˆéƒ¨ç½²ï¼‰

### ç¬¬1æ­¥: ä¸Šä¼ é¡¹ç›®æ–‡ä»¶åˆ°æœåŠ¡å™¨

**åœ¨æœ¬åœ°Windowsä¸Š**:
```bash
# æ‰“åŒ…é¡¹ç›®
cd /path/to/project
tar -czf sf-express.tar.gz sf-express/

# ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆä½¿ç”¨WinSCPæˆ–SCPï¼‰
scp sf-express.tar.gz root@your-server-ip:/opt/
```

**åœ¨æœåŠ¡å™¨ä¸Š**:
```bash
# è§£å‹é¡¹ç›®
cd /opt
tar -xzf sf-express.tar.gz
cd sf-express
```

---

### ç¬¬2æ­¥: é…ç½®ç¯å¢ƒå˜é‡

```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano .env.production
```

**å¿…é¡»ä¿®æ”¹çš„é…ç½®**:
```bash
MYSQL_ROOT_PASSWORD=your-strong-password-here
MYSQL_PASSWORD=your-strong-password-here
SECRET_KEY=your-very-strong-secret-key-here
REDIS_PASSWORD=your-redis-password-here
```

ä¿å­˜å¹¶é€€å‡ºï¼ˆCtrl+X, Y, Enterï¼‰

---

### ç¬¬3æ­¥: è¿è¡Œè‡ªåŠ¨ä¿®å¤è„šæœ¬

```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x fix_docker_deployment.sh

# è¿è¡Œè„šæœ¬ï¼ˆ5-10åˆ†é’Ÿï¼‰
./fix_docker_deployment.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰é…ç½®å’Œéƒ¨ç½²ï¼

---

### ç¬¬4æ­¥: éªŒè¯éƒ¨ç½²

```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker-compose --env-file .env.production ps

# æµ‹è¯•è®¿é—®
curl http://localhost:8000/health
```

**æœŸæœ›ç»“æœ**: è¿”å› `{"status":"ok"}`

---

### ç¬¬5æ­¥: æµè§ˆå™¨è®¿é—®

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š
- **å‰ç«¯**: `http://your-server-ip/`
- **ç®¡ç†åå°**: `http://your-server-ip/admin/login.html`

**ç®¡ç†å‘˜è´¦å·**:
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

---

## ğŸ“‹ å®Œæ•´å‘½ä»¤æ¸…å•ï¼ˆå¤åˆ¶ç²˜è´´ï¼‰

```bash
# ========== åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ ==========

# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/sf-express

# 2. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆæ‰‹åŠ¨ç¼–è¾‘ï¼‰
nano .env.production
# ä¿®æ”¹å¯†ç å’Œå¯†é’¥åä¿å­˜

# 3. è¿è¡Œä¿®å¤è„šæœ¬
chmod +x fix_docker_deployment.sh
./fix_docker_deployment.sh

# 4. ç­‰å¾…5-10åˆ†é’Ÿåæ£€æŸ¥çŠ¶æ€
docker-compose --env-file .env.production ps

# 5. æµ‹è¯•è®¿é—®
curl http://localhost:8000/health

# å®Œæˆï¼
```

---

## âœ… æˆåŠŸæ ‡å¿—

çœ‹åˆ°ä»¥ä¸‹ç»“æœè¯´æ˜éƒ¨ç½²æˆåŠŸï¼š

```bash
# å®¹å™¨çŠ¶æ€
NAME                    STATUS
express-tracking-app    Up
express-tracking-db     Up (healthy)
express-tracking-nginx  Up
express-tracking-redis  Up

# å¥åº·æ£€æŸ¥
{"status":"ok"}
```

---

## ğŸ” å¦‚æœé‡åˆ°é—®é¢˜

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
docker-compose --env-file .env.production logs

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose --env-file .env.production logs app

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker-compose --env-file .env.production logs -f
```

### é‡æ–°éƒ¨ç½²
```bash
# åœæ­¢æœåŠ¡
docker-compose --env-file .env.production down

# é‡æ–°è¿è¡Œä¿®å¤è„šæœ¬
./fix_docker_deployment.sh
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. å®¹å™¨çŠ¶æ€: `docker-compose --env-file .env.production ps`
2. åº”ç”¨æ—¥å¿—: `docker-compose --env-file .env.production logs app | tail -50`
3. é”™è¯¯æˆªå›¾

---

## ğŸ“ ç›¸å…³æ–‡æ¡£

- `é˜¿é‡Œäº‘éƒ¨ç½²é—®é¢˜è§£å†³æ±‡æ€».md` - å®Œæ•´é—®é¢˜è§£å†³æ±‡æ€»
- `Dockeréƒ¨ç½²å¿«é€Ÿä¿®å¤æŒ‡å—.md` - å¿«é€Ÿä¿®å¤æŒ‡å—
- `é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—.md` - è¯¦ç»†éƒ¨ç½²æŒ‡å—

---

**é¢„è®¡æ€»è€—æ—¶**: 15-20åˆ†é’Ÿ  
**éš¾åº¦**: â­â­â˜†â˜†â˜†ï¼ˆç®€å•ï¼‰  
**æœ€åæ›´æ–°**: 2026-02-02
